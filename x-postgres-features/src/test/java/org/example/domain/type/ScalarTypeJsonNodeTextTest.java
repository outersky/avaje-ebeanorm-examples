package org.example.domain.type;

import org.junit.Test;

import java.sql.Types;

import static org.junit.Assert.*;

/**
 *
 */
public class ScalarTypeJsonNodeTextTest {

//  ScalarTypeJsonNodePostgres type = new ScalarTypeJsonNodePostgres.JSON(new ObjectMapper());

  @Test
  public void testParse() throws Exception {

//    String jsonInput = "{\"id\":123123, \"name\":\"foo\"}";
//
//    JsonNode node = type.parse(jsonInput);
//    assertEquals(123123L, node.get("id").asLong());
//    assertEquals("foo", node.get("name").asText());
//
//    node = type.convertFromDbString(jsonInput);
//    assertEquals(123123L, node.get("id").asLong());
//    assertEquals("foo", node.get("name").asText());
//
//    String rawJson = type.formatValue(node);
//
//    assertTrue(rawJson, rawJson.contains("\"id\":123123"));
//    assertTrue(rawJson, rawJson.contains("\"name\":\"foo\""));
//
//    rawJson = type.convertToDbString(node);
//    assertTrue(rawJson, rawJson.contains("\"id\":123123"));
//    assertTrue(rawJson, rawJson.contains("\"name\":\"foo\""));

  }

}